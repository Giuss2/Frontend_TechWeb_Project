<div class="nuovo-avvistamento-container">
  <button class="btn-annulla" (click)="onAnnulla()">X Annulla</button>

  <h2>Nuovo Avvistamento</h2>

  <label>Titolo</label>
  <input [(ngModel)]="titolo" placeholder="Titolo della pagina del gatto">

  <label>Aggiungi una descrizione...</label>

  <div class="md-toolbar">
    <button type="button" (click)="wrapSelection('**', '**')"><b>B</b></button>
    <button type="button" (click)="wrapSelection('*', '*')" class="italic-btn">I</button>
    <button type="button" (click)="wrapSelection('\n- ', '')">• Lista</button>
  </div>

  <textarea #descrizioneInput [(ngModel)]="descrizione" placeholder="Descrizione..."></textarea>

  
  <label>Carica Foto</label> 
  <div class="file-upload-wrapper">
    <button type="button" class="file-btn" (click)="fileInput.click()">Scegli Foto</button>
    <span class="file-name">{{ file?.name || 'Nessun file selezionato' }}</span>
    <input #fileInput type="file" (change)="onFileSelected($event)">
  </div>


  <label>Posizione del gatto</label>
  <app-map [(lat)]="lat" [(lng)]="lng" [avvistamenti]="[]" [editable]="true"></app-map>

  <div class="form-feedback" *ngIf="!formValido">⚠️ {{ messaggioErrore }}</div>

  <button class="btn" (click)="creaAvvistamento()" [disabled]="!formValido">Crea Avvistamento</button>
</div>

