<button class="btn-annulla" (click)="onAnnulla()">X Annulla</button>
<div class="nuovo-avvistamento-container">
  

  <h2>Nuovo Avvistamento</h2>

  <label>Titolo</label>
  <input [(ngModel)]="titolo" placeholder="Titolo della pagina del gatto" maxlength="50">
  <p class="small-text">{{ titolo.length }}/50 caratteri</p>

  <label>Aggiungi una descrizione</label>

  <div class="md-toolbar">
    <button title="Grassetto (**testo**)" type="button" (click)="wrapSelection('**', '**')"><b>B</b></button>
    <button title="Corsivo (*testo*)" type="button" (click)="wrapSelection('*', '*')" class="italic-btn">I</button>
    <button title="Lista (- elemento)" type="button" (click)="wrapSelection('\n- ', '')">• Lista</button>
    

  </div>

  <textarea #descrizioneInput [(ngModel)]="descrizione" placeholder="Descrizione... 
  
**grassetto**
*corsivo*
- lista
" maxlength="1000"></textarea>
<p class="small-text">{{ descrizione.length }}/1000 caratteri</p>

  
  <label>Carica Foto</label> 
  <div class="file-upload-wrapper">
    <button type="button" class="file-btn" (click)="fileInput.click()">Scegli Foto</button>
    <span class="file-name">{{ file?.name || 'Nessun file selezionato' }}</span>
    <input #fileInput type="file" accept="image/*" (change)="onFileSelected($event)">
  </div>


  <label>Posizione del gatto</label>
  <app-map [(lat)]="lat" [(lng)]="lng" [avvistamenti]="[]" [editable]="true"></app-map>

  <div class="form-feedback" *ngIf="!formValido">⚠️ {{ messaggioErrore }}</div>

  <button class="btn" (click)="creaAvvistamento()" [disabled]="!formValido">Crea Avvistamento</button>
</div>

